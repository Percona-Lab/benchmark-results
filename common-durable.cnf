#general
back_log=2000
connect_timeout=15
skip_name_resolve=ON
max_connections=50000
table_definition_cache=2000
table_open_cache=10000
metadata_locks_hash_instances=256
ssl=0
core-file

#innodb
innodb_buffer_pool_size=150G
innodb_buffer_pool_instances=8
innodb_log_file_size=30G  
innodb_write_io_threads=8
innodb_read_io_threads=8 
innodb_thread_concurrency=0
innodb_doublewrite=1
innodb_flush_log_at_trx_commit=1
innodb-page-cleaners=8
innodb_purge_threads=4
innodb_lru_scan_depth=2048
innodb_io_capacity=8000
innodb_io_capacity_max=16000
innodb_flush_method=O_DIRECT_NO_FSYNC
innodb_adaptive_hash_index=OFF
innodb-change-buffering=none
innodb_flush_neighbors=0
innodb_max_dirty_pages_pct=90
innodb_max_dirty_pages_pct_lwm=10

#binlog
relay-log=relay-1
binlog-format=row
enforce-gtid-consistency
gtid-mode=on
master-info-repository=TABLE
relay-log-info-repository=TABLE

binlog-checksum=NONE
log-bin=mybin
log-slave-updates

#strict
sync_binlog=1

#monitoring
innodb_monitor_enable='%'
performance_schema=ON 
performance_schema_instrument='%synch%=on'
